# Bear GitOps Payment Service Configuration
# 
# This file controls the behavior of the payment service.
# The connection_pool_size directly affects latency:
#   - < 10: Severe latency (2-5 seconds) - simulates pool exhaustion
#   - 10-24: Moderate latency (0.5-1.5 seconds) - degraded performance
#   - >= 25: Normal operation (10-50ms) - healthy

# Deployment configuration
deployment:
  replicas: 6

# Database configuration
database:
  connection_pool_size: 50  # INCREASED - prevents latency issues
  max_connections: 100  # INCREASED - expanded pool capacity
  min_connections: 10
  connection_timeout_ms: 10000  # DECREASED - faster connection timeout
  idle_timeout_ms: 300000
  max_lifetime_ms: 1800000
  query_timeout_ms: 15000
  retry_attempts: 3
  retry_delay_ms: 1000
  core_pool_size: 20
  max_pool_size: 100  # INCREASED - handle more concurrent connections
  keep_alive_time_ms: 60000

# Service configuration
service:
  timeout_ms: 30000
  request_timeout_ms: 30000
  read_timeout_ms: 30000  # INCREASED - handle payment processing latency
  version: "1.0.11"
  max_concurrent_requests: 100

# HTTP client configuration
http:
  client:
    read_timeout: 30000  # 30s for payment processor calls
    connection_timeout: 10000  # 10s connection timeout
    pool:
      max_connections: 100  # Total connection pool size
      max_connections_per_route: 20  # Per-route connection limit